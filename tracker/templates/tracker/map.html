<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <title>Charlotte Homicide Map</title>
        <style>
            .tooltip {
                position: relative;
                display: inline-block;
                border-bottom: 1px dotted black; /* If you want dots under the hoverable text */
            }
            .tooltip .tooltiptext {
                visibility: hidden;
                width: 120px;
                background-color: black;
                color: #fff;
                text-align: center;
                padding: 5px 0;
                border-radius: 6px;
                
                /* Position the tooltip text - see examples below! */
                position: absolute;
                z-index: 1;
            }
            .tooltip:hover .tooltiptext {
                visibility: visible;
            }
        </style>
        <script type="text/javascript" >
            var geocoder;
            var map;
            var address = "300 block Trade Street";
            var addresses = ["300 block Trade Street"]; // , "Idlewild Road near Independence, North Carolina","9700 block of South Boulevard, North Carolina"]

            function initialize() {
                geocoder = new google.maps.Geocoder();
                var latlng = new google.maps.LatLng(35.2251855,-80.8415298);
                var myOptions = {
                    zoom: 11,
                    center: latlng,
                    mapTypeControl: true,
                    mapTypeControlOptions: {
                        style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
                    },
                    navigationControl: true,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
                if (geocoder) {
                    //for (address in addresses) { 
                        geocoder.geocode({
                            'address': address
                            }, function(results, status) {
                                if (status == google.maps.GeocoderStatus.OK) {
                                    if (status != google.maps.GeocoderStatus.ZERO_RESULTS) {
                                    
                                        // set the center and info window once (dont change it?)
                                        map.setCenter(results[0].geometry.location);                                
                                        var infowindow = new google.maps.InfoWindow({
                                            content: '<b>' + address + '</b>',
                                            size: new google.maps.Size(150, 50)
                                        });
                                
                                        // set marker many times
                                        var marker = new google.maps.Marker({
                                            position: results[0].geometry.location,
                                            map: map,
                                            title: address
                                        });

                                        // do we need this?
                                        google.maps.event.addListener(marker, 'click', function() {
                                            infowindow.open(map, marker);
                                        });
                            
                                    } else {
                                        alert("No results found");
                                    }
                                } else {
                                    alert("Geocode was not successful for the following reason: " + status);
                                }
                            }
                        );
                   // }
                }
            }
            google.maps.event.addDomListener(window, 'load', initialize);
        </script>                
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&key=AIzaSyBN-SLv7YPAMARDo2eQl7Y_yyy84xpWcHU"></script>
    </head>
    <body style="margin:10px; padding:10px;" onload="initialize()">
        <div>
            Homicide Map
        </div>
        <div class='menu' style="text-align: center">
                [ <div class='tooltip'>
                    <a href="/homicide">Home</a>
                    <span class='tooltiptext'>Homepage</span>
                </div> | 
                <div class='tooltip'>
                  <span style="color: rgba(137, 144, 150, 0.699)">Analytics</span> 
                  <span class='tooltiptext'>Coming Soon</span>
                </div> | 
                <div class='tooltip'>
                        <span style="color: rgba(137, 144, 150, 0.699)">Maps</span> 
                </div> ]
            </div>

        <div id="map_canvas" style="width:90%; height:90%"></div>
        <div>
            Map Legend & Controls coming
        </div>
    </body>           
</html>


